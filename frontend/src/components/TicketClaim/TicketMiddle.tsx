import { FC, useMemo } from 'react';
import { Box } from '@chakra-ui/react';

import { useHover } from '@/hooks/useHover';

import { TicketProps } from './TicketFirst';

export const TicketMiddle: FC<TicketProps> = ({ isActive, isClaimed }) => {
  const [hoverRef, isHover] = useHover();

  const icon = useMemo(() => getIcon(isClaimed, isActive, isHover), [isClaimed, isActive, isHover]);

  return (
    <Box width="225px" height="140px" ref={hoverRef}>
      {icon}
    </Box>
  );
};

const getIcon = (isClaimed: boolean, isActive: boolean, isHover: boolean) => {
  if (isClaimed) {
    return (
      <svg xmlns="http://www.w3.org/2000/svg" width="225" height="140" fill="none">
        <path
          fill="#6BC95B"
          fillRule="evenodd"
          d="M0 5c0-2.76142 2.23858-5 5-5h180c2.761 0 5 2.23858 5 5.00001V40.4529c0 3.7458 4.081 6.2551 7.794 5.7594 1.049-.14 2.119-.2123 3.206-.2123 13.255 0 24 10.7452 24 24s-10.745 24-24 24c-1.087 0-2.157-.0723-3.206-.2123-3.713-.4957-7.794 2.0137-7.794 5.7594V135c0 2.761-2.239 5-5 5H5c-2.76142 0-5-2.239-5-5v-33.979c0-2.9966 2.61599-5.2828 5.6067-5.0999.85361.0523 1.60514.0789 2.24308.0789C22.016 96 33.5 84.3594 33.5 70S22.016 44 7.84978 44c-.67008 0-1.46549.0227-2.37288.0674C2.53403 44.2126 0 41.9325 0 38.986V5Z"
          clipRule="evenodd"
        />
      </svg>
    );
  }
  if (isActive) {
    return (
      <svg xmlns="http://www.w3.org/2000/svg" width="225" height="140" fill="none">
        <mask id="ticket-middle" fill="#fff">
          <path
            fillRule="evenodd"
            d="M0 5c0-2.76142 2.23858-5 5-5h180c2.761 0 5 2.23858 5 5.00001V40.4529c0 3.7458 4.081 6.2551 7.794 5.7594 1.049-.14 2.119-.2123 3.206-.2123 13.255 0 24 10.7452 24 24s-10.745 24-24 24c-1.087 0-2.157-.0723-3.206-.2123-3.713-.4957-7.794 2.0137-7.794 5.7594V135c0 2.761-2.239 5-5 5H5c-2.76142 0-5-2.239-5-5v-33.979c0-2.9966 2.61599-5.2828 5.6067-5.0999.85361.0523 1.60514.0789 2.24308.0789C22.016 96 33.5 84.3594 33.5 70S22.016 44 7.84978 44c-.67008 0-1.46549.0227-2.37288.0674C2.53403 44.2126 0 41.9325 0 38.986V5Z"
            clipRule="evenodd"
          />
        </mask>
        <path
          fill={isHover ? '#6BC95B' : '#1F3E2E'}
          fillRule="evenodd"
          d="M0 5c0-2.76142 2.23858-5 5-5h180c2.761 0 5 2.23858 5 5.00001V40.4529c0 3.7458 4.081 6.2551 7.794 5.7594 1.049-.14 2.119-.2123 3.206-.2123 13.255 0 24 10.7452 24 24s-10.745 24-24 24c-1.087 0-2.157-.0723-3.206-.2123-3.713-.4957-7.794 2.0137-7.794 5.7594V135c0 2.761-2.239 5-5 5H5c-2.76142 0-5-2.239-5-5v-33.979c0-2.9966 2.61599-5.2828 5.6067-5.0999.85361.0523 1.60514.0789 2.24308.0789C22.016 96 33.5 84.3594 33.5 70S22.016 44 7.84978 44c-.67008 0-1.46549.0227-2.37288.0674C2.53403 44.2126 0 41.9325 0 38.986V5Z"
          clipRule="evenodd"
        />
        <path
          fill="#6BC95B"
          d="m5.6067 95.9211.12209-1.9962-.12209 1.9962Zm-.1298-51.8537-.09852-1.9975.09852 1.9975Zm192.3171 2.1449.264 1.9824-.264-1.9824Zm0 47.5754-.265 1.9824.265-1.9824ZM185-2H5v4h180v-4Zm7 42.4529V5.00001h-4V40.4529h4Zm6.058 7.7418C199.02 48.0664 200.002 48 201 48v-4c-1.176 0-2.335.0782-3.471.2299l.529 3.9648ZM201 48c12.15 0 22 9.8497 22 22h4c0-14.3594-11.641-26-26-26v4Zm22 22c0 12.1503-9.85 22-22 22v4c14.359 0 26-11.6406 26-26h-4Zm-22 22c-.998 0-1.98-.0664-2.942-.1947l-.529 3.9648c1.136.1517 2.295.2299 3.471.2299v-4Zm-9 43V99.5471h-4V135h4ZM5 142h180v-4H5v4Zm-7-40.979V135h4v-33.979h-4ZM7.84978 94c-.5857 0-1.29463-.0246-2.12099-.0751l-.24418 3.9925C6.36547 97.9713 7.1596 98 7.84978 98v-4ZM31.5 70c0 13.2805-10.614 24-23.65022 24v4C23.146 98 35.5 85.4383 35.5 70h-4ZM7.84978 46C20.886 46 31.5 56.7195 31.5 70h4c0-15.4384-12.354-28-27.65022-28v4Zm-2.27436.065C6.46089 46.0213 7.22191 46 7.84978 46v-4c-.71229 0-1.5421.024-2.4714.0699l.19704 3.9951ZM-2 5v33.986h4V5h-4Zm4 96.021c0-1.7554 1.5539-3.2217 3.48461-3.1036l.24418-3.9925C1.67809 93.6771-2 96.7831-2 101.021h4ZM5 138c-1.65685 0-3-1.343-3-3h-4c0 3.866 3.13401 7 7 7v-4Zm183-3c0 1.657-1.343 3-3 3v4c3.866 0 7-3.134 7-7h-4ZM5.37838 42.0699C3.5089 42.1621 2 40.7218 2 38.986h-4c0 4.1572 3.55916 7.2771 7.57542 7.079l-.19704-3.9951ZM188 40.4529c0 2.6634 1.463 4.7892 3.362 6.1115 1.882 1.3109 4.331 1.9462 6.696 1.6303l-.529-3.9648c-1.347.1798-2.795-.1918-3.882-.9481-1.069-.7448-1.647-1.7465-1.647-2.8289h-4Zm10.058 51.3524c-2.365-.3159-4.814.3194-6.696 1.6303-1.899 1.3223-3.362 3.4481-3.362 6.1115h4c0-1.0824.578-2.0841 1.647-2.8289 1.087-.7563 2.535-1.1279 3.882-.9481l.529-3.9648ZM5-2C1.13401-2-2 1.134-2 5h4c0-1.65685 1.34315-3 3-3v-4Zm180 4c1.657 0 3 1.34315 3 3.00001h4C192 1.13402 188.866-2 185-2v4Z"
          mask="url(#ticket-middle)"
        />
      </svg>
    );
  }

  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="225" height="140" fill="none">
      <path
        fill="#1F3E2E"
        fillRule="evenodd"
        d="M0 5c0-2.76142 2.23858-5 5-5h180c2.761 0 5 2.23858 5 5.00001V40.4529c0 3.7458 4.081 6.2551 7.794 5.7594 1.049-.14 2.119-.2123 3.206-.2123 13.255 0 24 10.7452 24 24s-10.745 24-24 24c-1.087 0-2.157-.0723-3.206-.2123-3.713-.4957-7.794 2.0137-7.794 5.7594V135c0 2.761-2.239 5-5 5H5c-2.76142 0-5-2.239-5-5v-33.979c0-2.9966 2.61599-5.2828 5.6067-5.0999.85361.0523 1.60514.0789 2.24308.0789C22.016 96 33.5 84.3594 33.5 70S22.016 44 7.84978 44c-.67008 0-1.46549.0227-2.37288.0674C2.53403 44.2126 0 41.9325 0 38.986V5Z"
        clipRule="evenodd"
      />
    </svg>
  );
};
