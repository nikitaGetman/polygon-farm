import { FC, useMemo } from 'react';
import { Box } from '@chakra-ui/react';

import { useHover } from '@/hooks/useHover';

export type TicketProps = {
  isActive: boolean;
  isClaimed: boolean;
};
export const TicketFirst: FC<TicketProps> = ({ isActive, isClaimed }) => {
  const [hoverRef, isHover] = useHover();

  const icon = useMemo(() => getIcon(isClaimed, isActive, isHover), [isClaimed, isActive, isHover]);

  return (
    <Box width="225px" height="140px" ref={hoverRef}>
      {icon}
    </Box>
  );
};

const getIcon = (isClaimed: boolean, isActive: boolean, isHover: boolean) => {
  if (isClaimed) {
    return (
      <svg xmlns="http://www.w3.org/2000/svg" width="225" height="140" fill="none">
        <path
          fill="#6BC95B"
          fillRule="evenodd"
          d="M190 5c0-2.76142-2.239-5-5-5H5C2.23858 0 0 2.23857 0 5v130c0 2.761 2.23858 5 5 5h180c2.761 0 5-2.239 5-5V99.5471c0-3.7458 4.081-6.2551 7.794-5.7594 1.049.14 2.119.2123 3.206.2123 13.255 0 24-10.7452 24-24s-10.745-24-24-24c-1.087 0-2.157.0723-3.206.2123-3.713.4957-7.794-2.0137-7.794-5.7594V5Z"
          clipRule="evenodd"
        />
      </svg>
    );
  }
  if (isActive) {
    return (
      <svg xmlns="http://www.w3.org/2000/svg" width="225" height="140" fill="none">
        <mask id="ticket-first" fill="#fff">
          <path
            fillRule="evenodd"
            d="M190 5c0-2.76142-2.239-5-5-5H5C2.23858 0 0 2.23857 0 5v130c0 2.761 2.23858 5 5 5h180c2.761 0 5-2.239 5-5V99.5471c0-3.7458 4.081-6.2551 7.794-5.7594 1.049.14 2.119.2123 3.206.2123 13.255 0 24-10.7452 24-24s-10.745-24-24-24c-1.087 0-2.157.0723-3.206.2123-3.713.4957-7.794-2.0137-7.794-5.7594V5Z"
            clipRule="evenodd"
          />
        </mask>
        <path
          fill={isHover ? '#6BC95B' : '#1F3E2E'}
          fillRule="evenodd"
          d="M190 5c0-2.76142-2.239-5-5-5H5C2.23858 0 0 2.23857 0 5v130c0 2.761 2.23858 5 5 5h180c2.761 0 5-2.239 5-5V99.5471c0-3.7458 4.081-6.2551 7.794-5.7594 1.049.14 2.119.2123 3.206.2123 13.255 0 24-10.7452 24-24s-10.745-24-24-24c-1.087 0-2.157.0723-3.206.2123-3.713.4957-7.794-2.0137-7.794-5.7594V5Z"
          clipRule="evenodd"
        />
        <path
          fill="#6BC95B"
          d="m197.794 46.2123.264 1.9824-.264-1.9824Zm0 47.5754-.265 1.9824.265-1.9824ZM5 2h180v-4H5v4ZM2 135V5h-4v130h4Zm183 3H5v4h180v-4Zm3-38.4529V135h4V99.5471h-4ZM201 92c-.998 0-1.98-.0664-2.942-.1947l-.529 3.9648c1.136.1517 2.295.2299 3.471.2299v-4Zm22-22c0 12.1503-9.85 22-22 22v4c14.359 0 26-11.6406 26-26h-4Zm-22-22c12.15 0 22 9.8497 22 22h4c0-14.3594-11.641-26-26-26v4Zm-2.942.1947C199.02 48.0664 200.002 48 201 48v-4c-1.176 0-2.335.0782-3.471.2299l.529 3.9648ZM188 5v35.4529h4V5h-4Zm9.529 39.2299c-1.347.1798-2.795-.1918-3.882-.9481-1.069-.7448-1.647-1.7465-1.647-2.8289h-4c0 2.6634 1.463 4.7892 3.362 6.1115 1.882 1.3109 4.331 1.9462 6.696 1.6303l-.529-3.9648ZM192 99.5471c0-1.0824.578-2.0841 1.647-2.8289 1.087-.7563 2.535-1.1279 3.882-.9481l.529-3.9648c-2.365-.3159-4.814.3194-6.696 1.6303-1.899 1.3223-3.362 3.4481-3.362 6.1115h4ZM185 142c3.866 0 7-3.134 7-7h-4c0 1.657-1.343 3-3 3v4Zm-187-7c0 3.866 3.13401 7 7 7v-4c-1.65685 0-3-1.343-3-3h-4ZM185 2c1.657 0 3 1.34315 3 3h4c0-3.86599-3.134-7-7-7v4ZM5-2C1.13401-2-2 1.134-2 5h4c0-1.65686 1.34314-3 3-3v-4Z"
          mask="url(#ticket-first)"
        />
      </svg>
    );
  }

  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="225" height="140" fill="none">
      <path
        fill="#1F3E2E"
        fillRule="evenodd"
        d="M190 5c0-2.76142-2.239-5-5-5H5C2.23858 0 0 2.23857 0 5v130c0 2.761 2.23858 5 5 5h180c2.761 0 5-2.239 5-5V99.5471c0-3.7458 4.081-6.2551 7.794-5.7594 1.049.14 2.119.2123 3.206.2123 13.255 0 24-10.7452 24-24s-10.745-24-24-24c-1.087 0-2.157.0723-3.206.2123-3.713.4957-7.794-2.0137-7.794-5.7594V5Z"
        clipRule="evenodd"
      />
    </svg>
  );
};
